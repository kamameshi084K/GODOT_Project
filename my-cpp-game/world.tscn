[gd_scene load_steps=22 format=3 uid="uid://nrc7ipixrte"]

[ext_resource type="PackedScene" uid="uid://imcu3pc77edr" path="res://Idle.fbx" id="1_f3sb7"]
[ext_resource type="Animation" uid="uid://bnbpln1lmducx" path="res://Idle.res" id="2_fj7yv"]
[ext_resource type="Animation" uid="uid://cklmet48av3v5" path="res://Run.res" id="3_tlwt5"]
[ext_resource type="Animation" uid="uid://dkgb5845qytfx" path="res://Jump.res" id="4_aqk2v"]
[ext_resource type="Animation" uid="uid://crifbv7hoj78x" path="res://Punching.res" id="5_036b0"]
[ext_resource type="PackedScene" uid="uid://cen7rdjfd05uh" path="res://Enemy.tscn" id="6_dwbse"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dwbse"]
albedo_color = Color(0.63274384, 0.28684402, 0.26148176, 1)
uv1_triplanar = true

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_tlwt5"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_tlwt5"]
_data = {
&"Idle": ExtResource("2_fj7yv"),
&"Jump": ExtResource("4_aqk2v"),
&"Punching": ExtResource("5_036b0"),
&"Run": ExtResource("3_tlwt5")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_dwbse"]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_dwbse"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pkg7o"]
animation = &"clips/Punching"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gbfbk"]
animation = &"clips/Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_036b0"]
animation = &"clips/Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dwbse"]
animation = &"clips/Run"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_pkg7o"]
blend_point_0/node = SubResource("AnimationNodeAnimation_036b0")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_dwbse")
blend_point_1/pos = 5.0
max_space = 5.0
snap = 1.0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ioo17"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wse8f"]
advance_mode = 0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ic0uy"]
advance_mode = 0

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_036b0"]
states/End/position = Vector2(911, 95)
states/Jump/node = SubResource("AnimationNodeAnimation_gbfbk")
states/Jump/position = Vector2(661, 95)
states/Move/node = SubResource("AnimationNodeBlendSpace1D_pkg7o")
states/Move/position = Vector2(415, 95)
states/Start/position = Vector2(195, 95)
transitions = ["Start", "Move", SubResource("AnimationNodeStateMachineTransition_ioo17"), "Move", "Jump", SubResource("AnimationNodeStateMachineTransition_wse8f"), "Jump", "Move", SubResource("AnimationNodeStateMachineTransition_ic0uy")]
graph_offset = Vector2(75.98318, -47.40338)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_gbfbk"]
nodes/output/position = Vector2(860, 80)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_036b0")
nodes/StateMachine/position = Vector2(260, 40)
nodes/Punch/node = SubResource("AnimationNodeOneShot_dwbse")
nodes/Punch/position = Vector2(560, 60)
nodes/Punching/node = SubResource("AnimationNodeAnimation_pkg7o")
nodes/Punching/position = Vector2(280, 240)
node_connections = [&"output", 0, &"Punch", &"Punch", 0, &"StateMachine", &"Punch", 1, &"Punching"]

[node name="world" type="Node3D"]

[node name="Stage" type="CSGCombiner3D" parent="."]
use_collision = true

[node name="Floor" type="CSGBox3D" parent="Stage"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0019218922)
size = Vector3(20, 1, 20)
material = SubResource("StandardMaterial3D_dwbse")

[node name="wall" type="CSGBox3D" parent="Stage"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 2, 0)
size = Vector3(1, 5, 20)

[node name="wall2" type="CSGBox3D" parent="Stage"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10, 2, 0)
size = Vector3(1, 5, 20)

[node name="wall3" type="CSGBox3D" parent="Stage"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 0, 2, 10)
size = Vector3(1, 5, 20)

[node name="wall4" type="CSGBox3D" parent="Stage"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 0, 2, -10)
size = Vector3(1, 5, 20)

[node name="Player" type="Player" parent="." groups=["player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.9843621, 1.5007842, -2.6125474)
velocity = Vector3(0, 0, 1.3333335)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
shape = SubResource("CapsuleShape3D_tlwt5")

[node name="SpringArm3D" type="SpringArm3D" parent="Player"]
transform = Transform3D(0.9987065, 0.002830495, -0.048713535, 0, 0.998216, 0.058002055, 0.048795268, -0.05793254, 0.9970337, 0, 5, 0)
spring_length = 10.0

[node name="Camera3D" type="Camera3D" parent="Player/SpringArm3D"]
transform = Transform3D(1.0000166, -8.3227114e-08, 1.2410788e-07, -1.1175869e-08, 0.78656924, 0.6175268, -1.4901158e-07, -0.61752534, 0.7865674, 0, 0, 0)

[node name="Idle" parent="Player" instance=ExtResource("1_f3sb7")]
transform = Transform3D(0.84934145, 0, -0.52784353, 0, 1, 0, 0.52784353, 0, 0.84934145, 0, -0.94571066, 0)

[node name="Skeleton3D" parent="Player/Idle" index="0"]
bones/0/position = Vector3(-0.009894561, 0.99551684, 0.0070496956)
bones/0/rotation = Quaternion(0.017488213, -0.03429202, -0.022808263, 0.9989986)
bones/1/rotation = Quaternion(-0.04821338, 0.002236234, 0.01689444, 0.99869174)
bones/2/rotation = Quaternion(0.014205218, -0.0007384331, 0.012208932, 0.99982435)
bones/3/rotation = Quaternion(0.026901858, -0.0002798617, 0.012175556, 0.9995639)
bones/4/rotation = Quaternion(0.0285764, -0.004012332, 0.009038011, 0.99954265)
bones/5/rotation = Quaternion(-0.07026171, 0.012815361, -0.0032909408, 0.9974409)
bones/7/rotation = Quaternion(-0.6078021, 0.47630158, -0.5019742, -0.38953215)
bones/8/rotation = Quaternion(0.4261645, -0.31128353, -0.20261653, 0.8248835)
bones/9/rotation = Quaternion(-7.8822474e-08, 3.448536e-08, -0.22588289, 0.9741545)
bones/10/rotation = Quaternion(0.0071084667, 0.1723796, -0.007138507, 0.98497915)
bones/11/rotation = Quaternion(0.22764198, 0.05298367, -0.22538163, 0.9458198)
bones/12/rotation = Quaternion(-0.12356385, -0.0594365, 0.265501, 0.95431054)
bones/13/rotation = Quaternion(-0.14182205, 0.060035374, -0.042954504, 0.9871358)
bones/15/rotation = Quaternion(0.23078261, 0.003180612, 0.0019294942, 0.9729983)
bones/16/rotation = Quaternion(0.24552868, -1.8408873e-05, 0.020005241, 0.96918297)
bones/17/rotation = Quaternion(0.16393238, 6.157964e-06, 0.013354674, 0.9863812)
bones/19/rotation = Quaternion(0.28383276, 0.0032655157, 0.036939047, 0.95815647)
bones/20/rotation = Quaternion(0.24240676, -5.892443e-05, 0.019755743, 0.9699736)
bones/21/rotation = Quaternion(0.22532499, 1.594692e-05, 0.018355843, 0.9741107)
bones/23/rotation = Quaternion(0.31701818, -0.00045538507, 0.046076782, 0.9472994)
bones/24/rotation = Quaternion(0.2716737, 1.5426544e-05, 0.022131156, 0.96213496)
bones/25/rotation = Quaternion(0.22503573, 5.9278673e-06, 0.01833259, 0.974178)
bones/27/rotation = Quaternion(0.3302042, -0.01067183, 0.086178176, 0.9399067)
bones/28/rotation = Quaternion(0.25089687, -6.449048e-05, 0.020449074, 0.9677979)
bones/29/rotation = Quaternion(0.2195128, 2.8493345e-05, 0.017880226, 0.97544575)
bones/31/rotation = Quaternion(0.6214759, 0.4649832, -0.4953633, 0.3900944)
bones/32/rotation = Quaternion(0.496031, 0.14215924, 0.18340246, 0.83672434)
bones/33/rotation = Quaternion(-4.0695962e-08, -1.8222325e-08, 0.2434677, 0.969909)
bones/34/rotation = Quaternion(0.02760309, -0.20760621, 0.06766638, 0.9754789)
bones/35/rotation = Quaternion(0.21781611, -0.05725484, 0.21012092, 0.9513818)
bones/36/rotation = Quaternion(-0.11838944, 0.065826364, -0.22726436, 0.9643661)
bones/37/rotation = Quaternion(-0.12791492, -0.0518815, 0.007941785, 0.9903954)
bones/39/rotation = Quaternion(0.15018284, -6.361981e-05, 0.008237268, 0.988624)
bones/40/rotation = Quaternion(0.19871646, -3.9765146e-06, -0.020363268, 0.9798455)
bones/41/rotation = Quaternion(0.13834672, 3.154913e-06, -0.014177504, 0.99028236)
bones/43/rotation = Quaternion(0.21122175, -0.00566613, -0.032420453, 0.97688395)
bones/44/rotation = Quaternion(0.21041349, -1.2349336e-06, -0.021562187, 0.9773747)
bones/45/rotation = Quaternion(0.2151578, -1.2721866e-06, -0.022048945, 0.9763304)
bones/47/rotation = Quaternion(0.25700074, -0.00079642073, -0.04843496, 0.96519643)
bones/48/rotation = Quaternion(0.2456125, -3.2712705e-07, -0.025169637, 0.9690413)
bones/49/rotation = Quaternion(0.22441725, -3.0710362e-07, -0.022997616, 0.97422177)
bones/51/rotation = Quaternion(0.3004867, -7.35037e-05, -0.08369168, 0.95010716)
bones/52/rotation = Quaternion(0.2324222, 1.2517208e-05, -0.02381969, 0.97232336)
bones/53/rotation = Quaternion(0.22516848, 3.930298e-06, -0.023074903, 0.97404665)
bones/55/rotation = Quaternion(-0.06991048, 0.13874996, 0.9875192, -0.025825262)
bones/56/rotation = Quaternion(-0.27861163, 0.07133095, -0.013001484, 0.957663)
bones/57/rotation = Quaternion(0.5001655, 0.006057429, -0.006525921, 0.86588407)
bones/58/rotation = Quaternion(0.38411656, -3.063534e-08, -4.8609923e-08, 0.9232846)
bones/60/rotation = Quaternion(0.1216743, 0.10071678, 0.9859061, -0.055143576)
bones/61/rotation = Quaternion(-0.22144927, -0.015276249, 0.03191985, 0.9745296)
bones/62/rotation = Quaternion(0.52565855, -0.018507088, -0.041665, 0.84947324)
bones/63/rotation = Quaternion(0.4017108, -2.9841342e-08, -5.529992e-08, 0.91576666)

[node name="AnimationPlayer" parent="Player/Idle" index="1"]
libraries = {
&"clips": SubResource("AnimationLibrary_tlwt5")
}

[node name="Hitbox" type="Area3D" parent="Player/Idle"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.06361008, 1.1995078, 0.54389596)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player/Idle/Hitbox"]
transform = Transform3D(0.39236528, 0, 1.1175871e-08, 0, 0.33264786, 0, -3.7252903e-09, 0, 0.600288, -0.16008425, 0, 0.015895605)
shape = SubResource("BoxShape3D_dwbse")

[node name="AnimationTree" type="AnimationTree" parent="Player"]
root_node = NodePath("../Idle")
tree_root = SubResource("AnimationNodeBlendTree_gbfbk")
anim_player = NodePath("../Idle/AnimationPlayer")
parameters/StateMachine/Move/blend_position = 1.3333335
parameters/Punch/active = false
parameters/Punch/internal_active = false
parameters/Punch/request = 0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.70710677, -0.49999997, 0.49999997, 0, 0.70710677, 0.70710677, -0.70710677, -0.49999997, 0.49999997, -0.46368933, 9.036392, -0.8837156)
shadow_enabled = true

[node name="Enemy" parent="." instance=ExtResource("6_dwbse")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 1.010297, 2.6630192, -3.1047862)

[editable path="Player/Idle"]
